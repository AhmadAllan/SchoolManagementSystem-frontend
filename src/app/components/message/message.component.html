<div class="messenger-container">
    <div class="user-list">
        <input type="text" placeholder="Search" [(ngModel)]="searchQuery" />
        <ul>
            <li *ngFor="let user of filteredUsers" (click)="selectUser(user)" [class.selected]="selectedUser === user">
                <div class="user-avatar"></div>
                <div class="user-details">
                    <h3 class="user-name">{{ user.name }}</h3>
                    <p class="user-last-message">{{ user.lastMessage }}</p>
                </div>
            </li>
        </ul>
    </div>
    <div class="messages-screen">
        <h2 class="selected-user-name">{{ selectedUser?.name }}</h2>
        <div *ngIf="selectedUser" class="messages">
            <div *ngFor="let message of selectedUser.messages"
                [ngClass]="{'message-right': message.sentByUser, 'message-left': !message.sentByUser}" class="message">
                <p class="message-content">{{ message.content }}</p>
                <p class="message-date">{{ message.date | date }}</p>
            </div>
        </div>
        <form class="message-form" *ngIf="selectedUser" (ngSubmit)="sendMessage()">
            <textarea rows="4" placeholder="Type your message..." [(ngModel)]="newMessage" required></textarea>
            <button type="submit">Send</button>
        </form>
    </div>
</div>